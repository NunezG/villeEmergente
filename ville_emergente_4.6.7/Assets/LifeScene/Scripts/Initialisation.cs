using UnityEngine;using System.Collections;using mlv;using System;using System.Collections.Generic;public class Initialisation : MonoBehaviour{    private bool initDelay;    void Awake()    {        initDelay = false;    }    void OnEnable()    {		DynamicObject entityGKnowledge = Simulation.instance.knowledgeFramework.getGlobalWorkingKnowledge();		UInt32 EventProp;						if (!entityGKnowledge.hasProperty("Ready"))			EventProp = entityGKnowledge.addProperty("Ready");		else			EventProp = entityGKnowledge.getProperty("Ready");		entityGKnowledge.setBool(EventProp, false);    }	void Update()    {        if (initDelay == false)        {			DynamicObject entityGKnowledge = Simulation.instance.knowledgeFramework.getGlobalWorkingKnowledge();			UInt32 EventProp;			if (entityGKnowledge.hasProperty("Initialized"))			{				EventProp = entityGKnowledge.getProperty("Initialized");                int nbrComponent = entityGKnowledge.countChildren(EventProp);                int countComponent = 0;                for (int i = 0; i < nbrComponent; i++)                {					if (entityGKnowledge.getBool(entityGKnowledge.getChild(EventProp, i)) == true)					{						countComponent = countComponent + 1;                    }                }                if (countComponent == nbrComponent)                {                    initDelay = true;					entityGKnowledge.setBool("Ready", true);                }            }        }    }}